@{
    ViewBag.Title = "Pedidos - Módulo Vendas";
}

@section scripts {
    <script src="~/ScriptsApp/Services/ClienteService.js"></script>
    <script src="~/ScriptsApp/Services/PedidoVendaService.js"></script>
    <script src="~/ScriptsApp/PedidosViewModel.js"></script>
}

<div class="row">
    <form role="form">
        <div class="form-group row">
            <label class="col-lg-1 control-label">Cliente</label>
            <div class="col-lg-3">
                <select id="cliente" class="form-control" data-bind="options: clientes,
                                                        optionsText: 'Nome',
                                                        optionsValue: 'Id',
                                                        optionsCaption: '',
                                                        value: pesquisa().idCliente">
                </select>
            </div>

            <label class="col-lg-1 control-label">Número</label>
            <div class="col-lg-3">
                <input type="text" class="form-control" data-bind="value: pesquisa().numeroPedido">
            </div>

            <div class="col-4"></div>
        </div>
        <div class="form-group row">
            <label class="col-lg-1">Entrega</label>
            <div class="col-lg-2">
                <input type="date" class="form-control" data-bind="value: pesquisa().entregaInicio">
            </div>

            <label class="col-lg-1 text-center">até</label>
            <div class="col-lg-2">
                <input type="date" class="form-control col-lg-5" data-bind="value: pesquisa().entregaFim">
            </div>

            <div class="col-lg-2 text-right">
                <button type="button" class="btn btn-default" data-bind="click: pesquisar">Pesquisar</button>
            </div>
            <div class="col-lg-4">
            </div>
        </div>
    </form>
</div>
<hr />

<div class="row">
    <div class="panel panel-default">
        <div class="panel-body">
            <table id="pedidos" class="table table-hover">
                <thead>
                    <tr>
                        <th>Número</th>
                        <th>Cliente</th>
                        <th>Valor Total</th>
                    </tr>
                </thead>
                <tbody id="pedidos-tbody" data-bind="foreach: pedidosVenda">
                    <tr>
                        <td data-bind="text: Numero"></td>
                        <td data-bind="text: RazaoCliente"></td>
                        <td data-bind="text: ValorTotal ? 'R$ ' + ValorTotal.toFixed(2).toString() : '-'"></td>
                    </tr>   
                </tbody>
            </table>
        </div>
    </div>
</div>